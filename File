Лекция 5

пир - одноранговый участник сети (участники равноправные)
Multipeer Connectivity Framework (wifi, blootuth, peer to peer wifi)

фазы:
1 обнаружение пользователей
2 обмен данными

обнаруживаем MCPeerID - всегда уникальный независим от времнеи
init(display Name:)

Браузер(ищет) и адвератайзер(тот кого ищат)
есть делегаты с методами старт/стоп

Адвертайзер передаем пирАйди(созданный нами)
дискаверИнфо - словарь на 400 байт - будет передаваться, когда браузер находит пир (можно передать имя цвет текста, ссылку на фотку и тд)
сервисТайп - название сервеса в котором будет работать браузер и адвертайзер (тинькоффЧат) 15 символ и др ограничения

делегат может сказать, что адвертайзер не смог стартовать,
что адвер получил приглашение от браузера (с перАйди от другого пользователя, дата, Инвинтейшенхендлер блок в блок передаем сессию в которую принемаем приглашение или нет)


Браузер
Приглашака инвайтПир(таймаут, дата и ...), инит
делегат говорит, браузер не смог, нашел пира(фаунд пир), потерял (лост пир)

БраузерВьюКонтроллер (нам не оч подходит)

СервисАдвайтайзерАсистант - показывает алерт с принятием и отказом (нам не надо)

2 фаза Сессия появляется, когда создаем с чуваком канал (сессия следит за стадом пиров - максимум 8 человек)
при привышения числа 8, создаем несколько сессий (будем делать по два человека в сесси)
Сессия контейнер для пир айдишек

Инициализация сесси
1 передаем нашу айдишку
2 секьюритиАйдентити передаем сертификаты - нам не надо пока, экрипшениПреференс - вид шифрование

передача данных в сессии сенда(дата, ту пир, с модом(рилайбл - в очередь все сообщения, анринайлб - в каком порядке дайдут сообщения, в таком дайдут дайдут)) - будем использовать пока этот метод передавать жесон
стартСтрим - начинает поток
сендСурсу - передает файл

прием данных - отвечает делегат

делегатныйметод приконектился пир или не приконнектился


















